imhodump
========
https://github.com/idlesign/imhodump



Что это
-------

imhodump - это скрипт для экспорта в файл оценок, проставленных вами (или не вами) на imhonet.ru (фильмы, книги, игры).

Он посещает все страницы с оценками, собирает и складирует в файл следующие данные для каждого из оцененных объектов:

* URL с детальной информацией об объекте на imhonet.ru
* Название на русском
* Название на языке оригинала
* Год выпуска
* Оценка (десятибальная шкала)

*До смены дизайна скрипт собирал ещё даты просмотра фильма и проставления оценки, но теперь эту информацию взять неоткуда.*

Посещение страниц происходят в один поток, размеренно, то есть очень нежно по отношению к imhonet %)

Если посреди сбора оценок что-то пойдёт не так (imhonet, скажем, помашет ручкой на некоторое время), можно со спокойной
душой завершить работу скрипта, а потом продолжить - данные в файле с оценками не продублируются.

Собранные данные сохраняются в указанный файл в формате json http://ru.wikipedia.org/wiki/JSON, далее
вы можете обратиться к данным из этого файла в любом из ваших скриптов на python/ruby/javascript и использовать их во имя добра
(или, скажем, перенести оценки на КиноПоис или IMDb).

В дополнение к json-файлу формируется .csv файл, подозрительно похожий на те, которые получаются при экспорте оценок
с IMDb. И уж совсем настораживает, что этот .csv можно попытаться скормить КиноПоиску
на странице http://www.kinopoisk.ru/mykp/edit_main/ (в разделе "Импорт оценок с IMDb").
Впрочем, можно и не пытаться: скорее всего, волшебства не бывает и ничего из этой затеи не получится %(



Как использовать
----------------

Для запуска скрипта потребуются:

* Python 3.3+
* Модуль requests
* Модуль lxml


Теперь нужно указать скрипту ваше имя на imhonet (логин, номер): открываем файл imhodump.py в текстовом редакторе,
заменяем `idle` из строки `USERNAME = 'idle'` на ваш логин.

По умолчанию скрипт собирает оценки фильмов. Чтобы собрать оценки книг, нужно убрать знак # перед ``#SUBJECT = 'books'``
и поставить его перед ``SUBJECT = 'films'``. По аналогии поступаем для сбора оценок по играм и сериалам.

Оценки будут сохранены в файл `imho_rates_{books_или_films}_{ваш_логин}.json` рядом с нашим скриптом.

В консоли запускаем отредактированный скрипт и медитируем на бегущие строчки (или идём спать)::

    > python imhodump.py


Или, что более вероятно::

    > python3 imhodump.py


Всё. Теперь вы не только обладаете файлом с оценками, но и стали чуточку ближе к Питону.



А если не работает
------------------

Если скрипт не собирает оценки, то, скорее всего, бравые создатели imhonet в очередной раз поменяли
расположение элементов на страницах с оценками (например, сменили дизайн). В этом случае вам следует либо плюнуть
на сбор оценок, либо познакомиться с Питоном ещё ближе.
